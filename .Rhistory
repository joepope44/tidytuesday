geom_node_point(aes(color = label, size = ifelse(label == "other", .5, 3))) +
guides(size = FALSE) +
theme_linedraw()
top_cors %>%
head(200) %>%
graph_from_data_frame(vertices = ingredient_info) %>%
ggraph::ggraph(layout = "fr") +
geom_edge_link() +
geom_node_text(aes(label = name), repel = TRUE) +
geom_node_point(aes(color = label, size = ifelse(label == "other", .5, 3))) +
guides(size = FALSE) +
theme_dark()
top_cors %>%
head(200) %>%
graph_from_data_frame(vertices = ingredient_info) %>%
ggraph::ggraph(layout = "fr") +
geom_edge_link() +
geom_node_text(aes(label = name), repel = TRUE) +
geom_node_point(aes(color = label, size = ifelse(label == "other", .5, 3))) +
guides(size = FALSE) +
theme_dark()
install.packages("ggdark")
top_cors %>%
head(200) %>%
graph_from_data_frame(vertices = ingredient_info) %>%
ggraph::ggraph(layout = "fr") +
geom_edge_link() +
geom_node_text(aes(label = name), repel = TRUE) +
geom_node_point(aes(color = label, size = ifelse(label == "other", .5, 3))) +
guides(size = FALSE) +
ggdark::dark_theme_light()
top_cors %>%
head(200) %>%
graph_from_data_frame(vertices = ingredient_info) %>%
ggraph::ggraph(layout = "fr") +
geom_edge_link() +
geom_node_text(aes(label = name), repel = TRUE) +
geom_node_point(aes(color = label, size = ifelse(label == "other", .5, 3))) +
guides(size = FALSE) +
ggdark::dark_theme_light() +
scale_color_discrete()
top_cors %>%
head(200) %>%
graph_from_data_frame(vertices = ingredient_info) %>%
ggraph::ggraph(layout = "fr") +
geom_edge_link() +
geom_node_text(aes(label = name), repel = TRUE) +
geom_node_point(aes(color = label, size = ifelse(label == "other", .5, 3))) +
guides(size = FALSE) +
ggdark::dark_theme_light() +
ggdark::invert_theme_elements() +
scale_color_discrete()
top_cors %>%
head(200) %>%
graph_from_data_frame(vertices = ingredient_info) %>%
ggraph::ggraph(layout = "fr") +
geom_edge_link() +
geom_node_text(aes(label = name), repel = TRUE) +
geom_node_point(aes(color = label, size = ifelse(label == "other", .5, 3))) +
guides(size = FALSE) +
ggdark::dark_theme_light()
top_cors %>%
head(200) %>%
graph_from_data_frame(vertices = ingredient_info) %>%
ggraph::ggraph(layout = "fr") +
geom_edge_link() +
geom_node_text(aes(label = name), repel = TRUE) +
geom_node_point(aes(color = label, size = ifelse(label == "other", .5, 3))) +
guides(size = FALSE) +
ggdark::dark_theme_light() +
ggdark::invert_geom_defaults()
top_cors %>%
head(200) %>%
graph_from_data_frame(vertices = ingredient_info) %>%
ggraph::ggraph(layout = "fr") +
geom_edge_link() +
geom_node_text(aes(label = name), repel = TRUE) +
geom_node_point(aes(color = label, size = ifelse(label == "other", .5, 3))) +
guides(size = FALSE) +
ggdark::dark_theme_light() +
ggdark::invert_geom_defaults() +
scale_color_discrete()
top_cors %>%
head(200) %>%
graph_from_data_frame(vertices = ingredient_info) %>%
ggraph::ggraph(layout = "fr") +
geom_edge_link() +
geom_node_text(aes(label = name), repel = TRUE) +
geom_node_point(aes(color = label, size = ifelse(label == "other", .5, 3))) +
guides(size = FALSE) +
# ggdark::dark_theme_light() +
ggdark::invert_geom_defaults() +
scale_color_discrete()
top_cors %>%
head(200) %>%
graph_from_data_frame(vertices = ingredient_info) %>%
ggraph::ggraph(layout = "fr") +
geom_edge_link() +
geom_node_text(aes(label = name), repel = TRUE) +
geom_node_point(aes(color = label, size = ifelse(label == "other", .5, 3))) +
guides(size = FALSE)
top_cors %>%
head(200) %>%
graph_from_data_frame(vertices = ingredient_info) %>%
ggraph::ggraph(layout = "fr") +
geom_edge_link() +
geom_node_text(aes(label = name), repel = TRUE) +
geom_node_point(aes(color = label, size = ifelse(label == "other", .5, 3))) +
guides(size = FALSE) +
# ggdark::dark_theme_light() +
# ggdark::invert_geom_defaults() +
scale_color_discrete()
top_cors %>%
head(200) %>%
graph_from_data_frame(vertices = ingredient_info) %>%
ggraph::ggraph(layout = "fr") +
geom_edge_link() +
geom_node_text(aes(label = name), repel = TRUE) +
geom_node_point(aes(color = label, fill = "black", size = ifelse(label == "other", .5, 3))) +
guides(size = FALSE) +
# ggdark::dark_theme_light() +
# ggdark::invert_geom_defaults() +
scale_color_discrete()
top_cors %>%
head(200) %>%
graph_from_data_frame(vertices = ingredient_info) %>%
ggraph::ggraph(layout = "fr") +
geom_edge_link() +
geom_node_text(aes(label = name), repel = TRUE) +
geom_node_point(aes(color = label, fill = "black", size = ifelse(label == "other", .5, 3))) +
guides(size = FALSE) +
# ggdark::dark_theme_light() +
# ggdark::invert_geom_defaults() +
scale_color_brewer()
top_cors %>%
head(200) %>%
graph_from_data_frame(vertices = ingredient_info) %>%
ggraph::ggraph(layout = "fr") +
geom_edge_link() +
geom_node_text(aes(label = name), repel = TRUE) +
geom_node_point(aes(color = label, fill = "black", size = ifelse(label == "other", .5, 3))) +
guides(size = FALSE) +
# ggdark::dark_theme_light() +
# ggdark::invert_geom_defaults() +
scale_color_brewer()
top_cors %>%
head(200) %>%
graph_from_data_frame(vertices = ingredient_info) %>%
ggraph::ggraph(layout = "fr") +
geom_edge_link() +
geom_node_text(aes(label = name), repel = TRUE) +
geom_node_point(aes(color = label, fill = "black", size = ifelse(label == "other", .5, 3))) +
guides(size = FALSE) +
# ggdark::dark_theme_light() +
# ggdark::invert_geom_defaults() +
scale_color_brewer(palette = "Accent")
top_cors %>%
head(200) %>%
graph_from_data_frame(vertices = ingredient_info) %>%
ggraph::ggraph(layout = "fr") +
geom_edge_link() +
geom_node_text(aes(label = name), repel = TRUE) +
geom_node_point(aes(color = label, fill = "black", size = ifelse(label == "other", .5, 3))) +
guides(size = FALSE) +
ggdark::dark_theme_classic()
top_cors %>%
head(200) %>%
graph_from_data_frame(vertices = ingredient_info) %>%
ggraph::ggraph(layout = "fr") +
geom_edge_link() +
geom_node_text(aes(label = name), repel = TRUE) +
geom_node_point(aes(color = label, fill = "black", size = ifelse(label == "other", .5, 3))) +
guides(size = FALSE) +
ggdark::dark_theme_minimal()
top_cors %>%
head(200) %>%
graph_from_data_frame(vertices = ingredient_info) %>%
ggraph::ggraph(layout = "fr") +
geom_edge_link() +
geom_node_text(aes(label = name), repel = TRUE) +
geom_node_point(aes(color = label, size = ifelse(label == "other", .5, 3))) +
guides(size = FALSE) +
ggdark::dark_theme_minimal()
top_cors %>%
head(200) %>%
graph_from_data_frame(vertices = ingredient_info) %>%
ggraph::ggraph(layout = "fr") +
geom_edge_link(aes(color = "white")) +
geom_node_text(aes(label = name), repel = TRUE) +
geom_node_point(aes(color = label, size = ifelse(label == "other", .5, 3))) +
guides(size = FALSE) +
ggdark::dark_theme_minimal()
top_cors %>%
head(200) %>%
graph_from_data_frame(vertices = ingredient_info) %>%
ggraph::ggraph(layout = "fr") +
ggdark::dark_theme_minimal() +
geom_edge_link(aes(color = "white")) +
geom_node_text(aes(label = name), repel = TRUE) +
geom_node_point(aes(color = label, size = ifelse(label == "other", .5, 3))) +
guides(size = FALSE)
top_cors %>%
head(200) %>%
graph_from_data_frame(vertices = ingredient_info) %>%
ggraph::ggraph(layout = "fr") +
geom_edge_link(aes(color = "white")) +
geom_node_text(aes(label = name), repel = TRUE) +
geom_node_point(aes(color = label, size = ifelse(label == "other", .5, 3))) +
guides(size = FALSE) +
ggthemes::theme_economist()
top_cors %>%
head(200) %>%
graph_from_data_frame(vertices = ingredient_info) %>%
ggraph::ggraph(layout = "fr") +
geom_edge_link(aes(color = "white")) +
geom_node_text(aes(label = name), repel = TRUE) +
geom_node_point(aes(color = label, size = ifelse(label == "other", .5, 3))) +
guides(size = FALSE) +
ggthemes::theme_few()
top_cors %>%
head(200) %>%
graph_from_data_frame(vertices = ingredient_info) %>%
ggraph::ggraph(layout = "fr") +
geom_edge_link(aes(color = "white")) +
geom_node_text(aes(label = name), repel = TRUE) +
geom_node_point(aes(color = label, size = ifelse(label == "other", .5, 3))) +
guides(size = FALSE) +
ggthemes::theme_hc()
top_cors %>%
head(200) %>%
graph_from_data_frame(vertices = ingredient_info) %>%
ggraph::ggraph(layout = "fr") +
geom_edge_link(aes(color = "white"), show.legend = FALSE) +
geom_node_text(aes(label = name), repel = TRUE) +
geom_node_point(aes(color = label, size = ifelse(label == "other", .5, 3))) +
guides(size = FALSE) +
ggthemes::theme_hc()
top_cors %>%
head(200) %>%
graph_from_data_frame(vertices = ingredient_info) %>%
ggraph::ggraph(layout = "fr") +
geom_edge_link() +
geom_node_text(aes(label = name), repel = TRUE) +
geom_node_point(aes(color = label, size = ifelse(label == "other", .5, 3))) +
guides(size = FALSE) +
ggthemes::theme_hc()
boston2 <- boston %>%
mutate(
ingredient = tolower(ingredient),
label = case_when(
str_detect(ingredient, "tequila|mezcal") ~ "tequila",
str_detect(ingredient, "rum") ~ "rum",
str_detect(ingredient, "vodka") ~ "vodka",
str_detect(ingredient, "whiskey|bourbon|scotch") ~ "whiskey",
str_detect(ingredient, "gin") ~ "gin",
# str_detect(ingredient, "juice") ~ "juice",
# str_detect(ingredient, "vermouth") ~ "vermouth",
# str_detect(ingredient, "brandy|port|sherry") ~ "sweet wine",
# str_detect(ingredient, "syrup|sugar|schnapps|creme|agave") ~ "sugar",
# str_detect(ingredient, "bitters") ~ "bitters",
# str_detect(ingredient, "liqueur|triple sec|grenadine") ~ "liqueur",
# str_detect(ingredient, "egg") ~ "egg",
TRUE ~ "other"
)
)
boston2 %>%
widyr::pairwise_count(item = ingredient, feature = row_id) %>%
arrange(desc(n))
ingredient_pairs <- boston2 %>%
add_count(ingredient) %>%
filter(n >= 5) %>%
pairwise_cor(ingredient, name, sort = TRUE)
top_cors <- ingredient_pairs %>%
head(150)
ingredient_info <- boston2 %>%
group_by(label, ingredient) %>%
summarise(n = n()) %>%
filter(ingredient %in% top_cors$item1) %>%
ungroup() %>%
mutate(label = factor(label)) %>%
select(ingredient, n, label)
top_cors %>%
head(200) %>%
graph_from_data_frame(vertices = ingredient_info) %>%
ggraph::ggraph(layout = "fr") +
geom_edge_link() +
geom_node_text(aes(label = name), repel = TRUE) +
geom_node_point(aes(color = label, size = ifelse(label == "other", .5, 3))) +
guides(size = FALSE) +
ggthemes::theme_hc()
View(top_cors)
top_cors %>%
head(200) %>%
graph_from_data_frame(vertices = ingredient_info) %>%
ggraph::ggraph(layout = "fr") +
geom_edge_link() +
geom_node_text(aes(label = name), repel = TRUE) +
geom_node_point(aes(color = label, size = ifelse(label == "other", .5, 3))) +
guides(size = FALSE) +
ggdark::dark_mode(ggthemes::theme_hc())
top_cors %>%
head(200) %>%
graph_from_data_frame(vertices = ingredient_info) %>%
ggraph::ggraph(layout = "fr") +
geom_edge_link() +
geom_node_text(aes(label = name), repel = TRUE) +
geom_node_point(aes(color = label, size = ifelse(label == "other", .5, 3))) +
guides(size = FALSE) +
ggdark::dark_mode(ggthemes::theme_hc(), force_geom_invert = TRUE )
top_cors %>%
head(200) %>%
graph_from_data_frame(vertices = ingredient_info) %>%
ggraph::ggraph(layout = "fr") +
geom_edge_link() +
geom_node_text(aes(label = name), repel = TRUE) +
geom_node_point(aes(color = label, size = ifelse(label == "other", .5, 3))) +
guides(size = FALSE) +
ggdark::dark_mode(ggthemes::theme_hc(), force_geom_invert = TRUE)
top_cors %>%
head(200) %>%
graph_from_data_frame(vertices = ingredient_info) %>%
ggraph::ggraph(layout = "fr") +
geom_edge_link() +
geom_node_text(aes(label = name), repel = TRUE) +
geom_node_point(aes(color = label, size = ifelse(label == "other", .5, 3))) +
guides(size = FALSE) +
ggthemes::theme_hc()
fonts()
theme(
text = element_text(family = "Verdana")
)
theme(
text = element_text(family = "Verdana")
)
top_cors %>%
head(200) %>%
graph_from_data_frame(vertices = ingredient_info) %>%
ggraph::ggraph(layout = "fr") +
geom_edge_link() +
geom_node_text(aes(label = name), repel = TRUE) +
geom_node_point(aes(color = label, size = ifelse(label == "other", .5, 3))) +
guides(size = FALSE) +
ggthemes::theme_hc() +
labs(
title = "TidyTuesday...After Dark",
subtitle = "Correlation Pairs of Drinks, by Alcohol Type"
) +
theme(
text = element_text(family = "Verdana")
)
top_cors %>%
head(200) %>%
graph_from_data_frame(vertices = ingredient_info) %>%
ggraph::ggraph(layout = "fr") +
geom_edge_link() +
geom_node_text(aes(label = name), repel = TRUE) +
geom_node_point(aes(color = label, size = ifelse(label == "other", .5, 3))) +
guides(size = FALSE) +
ggthemes::theme_hc() +
labs(
title = "TidyTuesday...After Dark",
subtitle = "Correlation Pairs of Drinks, by Alcohol Type",
x = "",
y = "",
caption = "Joseph Pope | @joepope44"
) +
theme(
text = element_text(family = "Verdana")
)
top_cors %>%
head(200) %>%
graph_from_data_frame(vertices = ingredient_info) %>%
ggraph::ggraph(layout = "fr") +
geom_edge_link() +
geom_node_text(aes(label = name), repel = TRUE) +
geom_node_point(aes(color = label, size = ifelse(label == "other", .5, 3))) +
guides(size = FALSE) +
ggthemes::theme_hc() +
labs(
title = "TidyTuesday...After Dark",
subtitle = "Correlation Pairs of Drinks, by Alcohol Type",
x = "",
y = "",
caption = "Joseph Pope | @joepope44"
) +
theme(
text = element_text(family = "Verdana"),
legend.title = "none"
)
top_cors %>%
head(200) %>%
graph_from_data_frame(vertices = ingredient_info) %>%
ggraph::ggraph(layout = "fr") +
geom_edge_link() +
geom_node_text(aes(label = name), repel = TRUE) +
geom_node_point(aes(color = label, size = ifelse(label == "other", .5, 3))) +
guides(size = FALSE) +
ggthemes::theme_hc() +
labs(
title = "TidyTuesday...After Dark",
subtitle = "Correlation Pairs of Drinks, by Alcohol Type",
x = "",
y = "",
caption = "Joseph Pope | @joepope44"
) +
theme(
text = element_text(family = "Verdana"),
legend.title = element_blank()
)
boston2 <- boston %>%
mutate(
ingredient = tolower(ingredient),
label = case_when(
str_detect(ingredient, "tequila|mezcal") ~ "tequila",
str_detect(ingredient, "rum") ~ "rum",
str_detect(ingredient, "vodka") ~ "vodka",
str_detect(ingredient, "whiskey|bourbon|scotch|whisky") ~ "whiskey",
str_detect(ingredient, "gin") ~ "gin",
# str_detect(ingredient, "juice") ~ "juice",
# str_detect(ingredient, "vermouth") ~ "vermouth",
# str_detect(ingredient, "brandy|port|sherry") ~ "sweet wine",
# str_detect(ingredient, "syrup|sugar|schnapps|creme|agave") ~ "sugar",
# str_detect(ingredient, "bitters") ~ "bitters",
# str_detect(ingredient, "liqueur|triple sec|grenadine") ~ "liqueur",
# str_detect(ingredient, "egg") ~ "egg",
TRUE ~ "other"
)
)
boston2 %>%
widyr::pairwise_count(item = ingredient, feature = row_id) %>%
arrange(desc(n))
ingredient_pairs <- boston2 %>%
add_count(ingredient) %>%
filter(n >= 5) %>%
pairwise_cor(ingredient, name, sort = TRUE)
top_cors <- ingredient_pairs %>%
head(150)
ingredient_info <- boston2 %>%
group_by(label, ingredient) %>%
summarise(n = n()) %>%
filter(ingredient %in% top_cors$item1) %>%
ungroup() %>%
mutate(label = factor(label)) %>%
select(ingredient, n, label)
top_cors %>%
head(200) %>%
graph_from_data_frame(vertices = ingredient_info) %>%
ggraph::ggraph(layout = "fr") +
geom_edge_link() +
geom_node_text(aes(label = name), repel = TRUE) +
geom_node_point(aes(color = label, size = ifelse(label == "other", .5, 3))) +
guides(size = FALSE) +
ggthemes::theme_hc() +
labs(
title = "TidyTuesday...After Dark",
subtitle = "Correlation Pairs of Drinks, by Alcohol Type",
x = "",
y = "",
caption = "Joseph Pope | @joepope44"
) +
theme(
text = element_text(family = "Verdana"),
legend.title = element_blank()
)
ingredient_info <- boston2 %>%
group_by(label, ingredient) %>%
summarise(n = n()) %>%
# filter(ingredient %in% top_cors$item1) %>%
filter(str_detect(ingredient ,"151")) %>%
ungroup() %>%
mutate(label = factor(label)) %>%
select(ingredient, n, label)
ingredient_info <- boston2 %>%
group_by(label, ingredient) %>%
summarise(n = n()) %>%
# filter(ingredient %in% top_cors$item1) %>%
filter(str_detect(ingredient ,"mezcal")) %>%
ungroup() %>%
mutate(label = factor(label)) %>%
select(ingredient, n, label)
ingredient_info <- boston2 %>%
group_by(label, ingredient) %>%
summarise(n = n()) %>%
filter(ingredient %in% top_cors$item1) %>%
# filter(str_detect(ingredient ,"mezcal")) %>%
ungroup() %>%
mutate(label = factor(label)) %>%
select(ingredient, n, label)
fonts()
library(extrafont)
font_import()
fonts()
top_cors %>%
head(200) %>%
graph_from_data_frame(vertices = ingredient_info) %>%
ggraph::ggraph(layout = "fr") +
geom_edge_link() +
geom_node_text(aes(label = name), repel = TRUE) +
geom_node_point(aes(color = label, size = ifelse(label == "other", .5, 3))) +
guides(size = FALSE) +
ggthemes::theme_hc() +
labs(
title = "TidyTuesday...After Dark",
subtitle = "Correlation Pairs of Drinks, by Alcohol Type",
x = "",
y = "",
caption = "Joseph Pope | @joepope44"
) +
theme(
text = element_text(family = "Betty Noir"),
legend.title = element_blank()
)
